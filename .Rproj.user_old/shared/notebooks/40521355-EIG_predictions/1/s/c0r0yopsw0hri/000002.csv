"0","# this will have underflow issues for small numbers"
"0","dkl <- function (x,y) {"
"0","  sum(x * log(x / y)) "
"0","}"
"0",""
"0","# very simple posterior predictive"
"0","post_pred <- function(theta, p_theta, heads = TRUE) {"
"0","  ifelse(heads, "
"0","         sum(theta * p_theta), "
"0","         1 - sum(theta * p_theta))"
"0","}"
"0",""
"0","dkl_s1 <- dkl(posterior_o2_s1$posterior, posterior_o1$posterior)"
"0","dkl_s2 <- dkl(posterior_o2_s2$posterior, posterior_o1$posterior)"
"0",""
"0","post_pred_s1_0 <- post_pred(posterior_o1$theta, posterior_o1$posterior, heads = FALSE)"
"0","post_pred_s1_1 <- post_pred(posterior_o1$theta, posterior_o1$posterior, heads = TRUE)"
"0",""
"0","EIG = post_pred_s1_0 * dkl_s1 + post_pred_s1_1 * dkl_s2"
