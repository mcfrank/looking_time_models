
```{r}
library(tidyverse)
library(here)
library(ggthemes)

d <- read_csv(here("visualize_kl_turbo_smaller.csv"))
```

```{r}
sub_d <- d %>% filter(id %in% seq(1, 10)) %>% filter(t < 50) %>% filter(id == 10)

sub_d  %>% 
  filter(!is.na(kl1)) %>% 
  select(-`...1`) %>% 
  pivot_longer(cols = c("kl1", "kl2"), names_to = "value_type", values_to = "val") %>% 
  ggplot(aes(x = t, y = val, color = value_type)) + 
  geom_point(position = position_dodge(width = .2)) + 
  #geom_jitter()+
  facet_wrap(~id) + 
  theme_few()
```
```{r}
d %>% 
  filter(!is.na(kl1)) %>% 
  select(-`...1`) %>% 
  pivot_longer(cols = c("kl1", "kl2"), names_to = "value_type", values_to = "val") %>% 
  filter(!is.infinite(val)) %>% 
  group_by(value_type, t) %>% 
  summarise(mean_val = mean(val)) %>% 
  ggplot(aes(x = t, y = mean_val, color = value_type)) + 
  geom_point() + 
  theme_few() + 
  facet_wrap(~value_type)
```

